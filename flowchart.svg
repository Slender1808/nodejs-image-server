<svg xmlns="http://www.w3.org/2000/svg" shape-rendering="optimizeSpeed" viewBox="0 0 630 1672"><rect width="264" height="30" x="50" y="65" fill="#90caf9" stroke="#444" rx="3" ry="3"/><text x="65" y="85" fill="#222" font-family="monospace" font-size="13"><tspan x="65" y="85">const http2 = require(&apos;http2&apos;)</tspan></text><rect width="217.2" height="30" x="50" y="114" fill="#90caf9" stroke="#444" rx="3" ry="3"/><text x="65" y="134" fill="#222" font-family="monospace" font-size="13"><tspan x="65" y="134">const fs = require(&apos;fs&apos;)</tspan></text><rect width="373.2" height="30" x="50" y="162" fill="#90caf9" stroke="#444" rx="3" ry="3"/><text x="65" y="182" fill="#222" font-family="monospace" font-size="13"><tspan x="65" y="182">const server = http2.createSecureServer({*})</tspan></text><rect width="53.4" height="30" x="87" y="211" fill="#90caf9" stroke="#444" rx="3" ry="3"/><text x="102" y="231" fill="#222" font-family="monospace" font-size="13"><tspan x="102" y="231">{*}</tspan></text><rect width="342" height="30" x="124" y="259" fill="#90caf9" stroke="#444" rx="2" ry="2"/><text x="139" y="279" fill="#222" font-family="monospace" font-size="13"><tspan x="139" y="279">key: fs.readFileSync(&apos;./ssl/server.key&apos;)</tspan></text><rect width="443.4" height="30" x="124" y="308" fill="#90caf9" stroke="#444" rx="2" ry="2"/><text x="139" y="328" fill="#222" font-family="monospace" font-size="13"><tspan x="139" y="328">cert: fs.readFileSync(&apos;./ssl/175054d19209152e.crt&apos;...</tspan></text><rect width="443.4" height="30" x="124" y="356" fill="#90caf9" stroke="#444" rx="2" ry="2"/><text x="139" y="376" fill="#222" font-family="monospace" font-size="13"><tspan x="139" y="376">ca: [fs.readFileSync(&apos;./ssl/sf_bundle-g1.crt&apos;), fs...</tspan></text><rect width="209.4" height="30" x="50" y="405" fill="#c5e1a5" stroke="#444" rx="2" ry="2"/><text x="65" y="425" fill="#222" font-family="monospace" font-size="13"><tspan x="65" y="425">server.on(&apos;error&apos;, *())</tspan></text><path fill="#a5d6a7" stroke="#444" d="M87 453h112v30H87zM97 453v30M189 453v30"/><text x="112" y="473" fill="#222" font-family="monospace" font-size="13"><tspan x="112" y="473">(err) =&gt;</tspan></text><rect width="225" height="30" x="124" y="502" fill="#90caf9" stroke="#444" rx="3" ry="3"/><path fill="#a5d6a7" stroke="#444" d="M349 512h5M349 522h5M354 506l16 11-16 11z"/><text x="139" y="522" fill="#222" font-family="monospace" font-size="13"><tspan x="139" y="522">return console.error(err)</tspan></text><rect width="217.2" height="30" x="50" y="550" fill="#c5e1a5" stroke="#444" rx="2" ry="2"/><text x="65" y="570" fill="#222" font-family="monospace" font-size="13"><tspan x="65" y="570">server.on(&apos;stream&apos;, *())</tspan></text><path fill="#a5d6a7" stroke="#444" d="M87 599h206v30H87zM97 599v30M283 599v30"/><text x="112" y="619" fill="#222" font-family="monospace" font-size="13"><tspan x="112" y="619">(stream, headers) =&gt;</tspan></text><rect width="256.2" height="30" x="124" y="647" fill="#c5e1a5" stroke="#444" rx="2" ry="2"/><text x="139" y="667" fill="#222" font-family="monospace" font-size="13"><tspan x="139" y="667">console.log(headers[&quot;:path&quot;])</tspan></text><rect width="53.4" height="30" x="124" y="696" fill="#ffe082" stroke="#444" rx="2" ry="2"/><text x="139" y="716" fill="#222" font-family="monospace" font-size="13"><tspan x="139" y="716">try</tspan></text><rect width="443.4" height="30" x="161" y="744" fill="#90caf9" stroke="#444" rx="3" ry="3"/><text x="176" y="764" fill="#222" font-family="monospace" font-size="13"><tspan x="176" y="764">fd = fs.openSync(`./public${headers[&quot;:path&quot;]}`, &apos;r...</tspan></text><rect width="256.2" height="30" x="161" y="793" fill="#90caf9" stroke="#444" rx="3" ry="3"/><text x="176" y="813" fill="#222" font-family="monospace" font-size="13"><tspan x="176" y="813">const stat = fs.fstatSync(fd)</tspan></text><rect width="201.6" height="30" x="161" y="841" fill="#90caf9" stroke="#444" rx="3" ry="3"/><text x="176" y="861" fill="#222" font-family="monospace" font-size="13"><tspan x="176" y="861">const headersRes = {*}</tspan></text><rect width="240.6" height="30" x="198" y="890" fill="#90caf9" stroke="#444" rx="2" ry="2"/><text x="213" y="910" fill="#222" font-family="monospace" font-size="13"><tspan x="213" y="910">&apos;content-length&apos;: stat.size</tspan></text><rect width="349.8" height="30" x="198" y="938" fill="#90caf9" stroke="#444" rx="2" ry="2"/><text x="213" y="958" fill="#222" font-family="monospace" font-size="13"><tspan x="213" y="958">&apos;last-modified&apos;: stat.mtime.toUTCString()</tspan></text><rect width="365.4" height="30" x="198" y="987" fill="#90caf9" stroke="#444" rx="2" ry="2"/><text x="213" y="1007" fill="#222" font-family="monospace" font-size="13"><tspan x="213" y="1007">&apos;content-type&apos;: &apos;text/plain; charset=utf-8&apos;</tspan></text><g><rect width="310.8" height="30" x="161" y="1035" fill="#c5e1a5" stroke="#444" rx="2" ry="2"/><text x="176" y="1055" fill="#222" font-family="monospace" font-size="13"><tspan x="176" y="1055">stream.respondWithFD(fd, headersRes)</tspan></text></g><g><rect width="115.8" height="30" x="161" y="1084" fill="#ef9a9a" stroke="#444" rx="2" ry="2"/><path fill="#ef9a9a" stroke="#444" d="M277 1097h2M277 1101h2M279 1085l16 14-16 14z"/><text x="176" y="1104" fill="#222" font-family="monospace" font-size="13"><tspan x="176" y="1104">catch (err)</tspan></text></g><g><rect width="53.4" height="30" x="198" y="1132" fill="#90caf9" stroke="#444" rx="3" ry="3"/><text x="213" y="1152" fill="#222" font-family="monospace" font-size="13"><tspan x="213" y="1152">err</tspan></text></g><g><rect width="178.2" height="30" x="198" y="1181" fill="#c5e1a5" stroke="#444" rx="2" ry="2"/><text x="213" y="1201" fill="#222" font-family="monospace" font-size="13"><tspan x="213" y="1201">stream.respond({*})</tspan></text></g><g><rect width="53.4" height="30" x="235" y="1229" fill="#90caf9" stroke="#444" rx="3" ry="3"/><text x="250" y="1249" fill="#222" font-family="monospace" font-size="13"><tspan x="250" y="1249">{*}</tspan></text></g><g><rect width="139.2" height="30" x="272" y="1278" fill="#90caf9" stroke="#444" rx="2" ry="2"/><text x="287" y="1298" fill="#222" font-family="monospace" font-size="13"><tspan x="287" y="1298">&apos;:status&apos;: 404</tspan></text></g><g><rect width="209.4" height="30" x="198" y="1326" fill="#c5e1a5" stroke="#444" rx="2" ry="2"/><text x="213" y="1346" fill="#222" font-family="monospace" font-size="13"><tspan x="213" y="1346">stream.on(&apos;close&apos;, *())</tspan></text></g><g><path fill="#a5d6a7" stroke="#444" d="M235 1375h89v30h-89zM245 1375v30M314 1375v30"/><text x="260" y="1395" fill="#222" font-family="monospace" font-size="13"><tspan x="260" y="1395">() =&gt;</tspan></text></g><g><rect width="209.4" height="30" x="272" y="1423" fill="#90caf9" stroke="#444" rx="3" ry="3"/><path fill="#a5d6a7" stroke="#444" d="M481 1433h5M481 1443h5M486 1427l16 11-16 11z"/><text x="287" y="1443" fill="#222" font-family="monospace" font-size="13"><tspan x="287" y="1443">return fs.closeSync(fd)</tspan></text></g><g><rect width="209.4" height="30" x="161" y="1472" fill="#c5e1a5" stroke="#444" rx="2" ry="2"/><text x="176" y="1492" fill="#222" font-family="monospace" font-size="13"><tspan x="176" y="1492">stream.on(&apos;close&apos;, *())</tspan></text></g><g><path fill="#a5d6a7" stroke="#444" d="M198 1520h89v30h-89zM208 1520v30M277 1520v30"/><text x="223" y="1540" fill="#222" font-family="monospace" font-size="13"><tspan x="223" y="1540">() =&gt;</tspan></text></g><g><rect width="209.4" height="30" x="235" y="1569" fill="#90caf9" stroke="#444" rx="3" ry="3"/><path fill="#a5d6a7" stroke="#444" d="M444 1579h5M444 1589h5M449 1573l16 11-16 11z"/><text x="250" y="1589" fill="#222" font-family="monospace" font-size="13"><tspan x="250" y="1589">return fs.closeSync(fd)</tspan></text></g><g><rect width="178.2" height="30" x="50" y="1617" fill="#c5e1a5" stroke="#444" rx="2" ry="2"/><text x="65" y="1637" fill="#222" font-family="monospace" font-size="13"><tspan x="65" y="1637">server.listen(8443)</tspan></text></g><g><path fill="#fff59d" stroke="#444" d="M25 14h217v24H25z"/><circle cx="25" cy="25" r="15" fill="#fff59d" stroke="#444"/><text x="55" y="30" fill="#222" font-family="monospace" font-size="13"><tspan x="55" y="30">Program: source module</tspan></text></g><g><path fill="none" stroke="#444" d="M25 40v36q0 4 4 4h13"/><path fill="#333" d="M42 77l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M25 40v85q0 4 4 4h13"/><path fill="#333" d="M42 126l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M25 40v133q0 4 4 4h13"/><path fill="#333" d="M42 174l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M69 192v30q0 4 4 4h6"/><path fill="#333" d="M79 223l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M106 241v29q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M106 241v78q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M106 241v126q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M25 40v376q0 4 4 4h13"/><path fill="#333" d="M42 417l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M69 435v29q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M106 483v30q0 4 4 4h6"/><path fill="#333" d="M116 514l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M25 40v521q0 4 4 4h13"/><path fill="#333" d="M42 562l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M69 580v30q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M106 629v29q0 4 4 4h6"/><path fill="#333" d="M116 659l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M106 629v78q0 4 4 4h6"/><path fill="#333" d="M116 708l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M143 726v29q0 4 4 4h6"/><path fill="#333" d="M153 756l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M143 726v78q0 4 4 4h6"/><path fill="#333" d="M153 805l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M143 726v126q0 4 4 4h6"/><path fill="#333" d="M153 853l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M180 871v30q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M180 871v78q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M180 871v127q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M143 726v320q0 4 4 4h6"/><path fill="#333" d="M153 1047l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M143 726v369q0 4 4 4h6"/><path fill="#333" d="M153 1096l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M180 1114v29q0 4 4 4h6"/><path fill="#333" d="M190 1144l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M180 1114v78q0 4 4 4h6"/><path fill="#333" d="M190 1193l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M217 1211v29q0 4 4 4h6"/><path fill="#333" d="M227 1241l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M254 1259v30q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M180 1114v223q0 4 4 4h6"/><path fill="#333" d="M190 1338l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M217 1356v30q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M254 1405v29q0 4 4 4h6"/><path fill="#333" d="M264 1435l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M143 726v757q0 4 4 4h6"/><path fill="#333" d="M153 1484l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M180 1502v29q0 4 4 4h14"/>false</g><g><path fill="none" stroke="#444" d="M217 1550v30q0 4 4 4h6"/><path fill="#333" d="M227 1581l8 3-8 3z"/></g><g><path fill="none" stroke="#444" d="M25 40v1588q0 4 4 4h13"/><path fill="#333" d="M42 1629l8 3-8 3z"/></g></svg>